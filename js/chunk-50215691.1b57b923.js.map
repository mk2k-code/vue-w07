{"version":3,"sources":["webpack:///./src/views/Admin/Products.vue","webpack:///./src/components/ProdModal.vue","webpack:///./src/components/ProdModal.vue?65d7","webpack:///./src/views/Admin/Products.vue?e53c","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["id","class","width","active","isLoading","z-index","openModal","products","item","key","category","title","$filters","currency","origin_price","price","type","true-value","false-value","is_enabled","update","for","product","tempProduct","isNew","updateProduct","ref","delProduct","pages","pagination","getProducts","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","imageUrl","placeholder","src","Array","isArray","imagesUrl","image","length","push","pop","createImages","unit","min","description","content","$emit","props","Object","default","Boolean","data","modal","emits","mixins","modalMixin","inject","watch","this","mounted","methods","render","currentPage","components","ProdModal","DelModal","Pagination","created","page","url","console","log","$http","get","then","res","success","alert","message","$httpMessageState","catch","err","editMod","$refs","prodModal","showModal","delModal","httpMethod","state","hideModal","delete","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","String","result","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","symbol","valueOf","string","call","desc","slice","replace","forced"],"mappings":"0IACSA,GAAG,O,GAEDC,MAAM,a,GACJA,MAAM,iB,GAIJA,MAAM,c,EACX,eASQ,cARN,eAOK,WANH,eAAuB,MAAnBC,MAAM,OAAM,MAChB,eAAyB,MAArBA,MAAM,OAAM,QAChB,eAAuB,MAAnBA,MAAM,OAAM,MAChB,eAAuB,MAAnBA,MAAM,OAAM,MAChB,eAAyB,MAArBA,MAAM,OAAM,QAChB,eAAuB,MAAnBA,MAAM,OAAM,U,MAcTD,MAAM,0B,uBAkBNA,MAAM,a,0KA/CvB,eAiEI,MAjEJ,EAiEI,CAhEF,eAAuD,GAA7CE,OAAQ,EAAAC,UAAYC,UAAS,M,mBACvC,eAyDM,MAzDN,EAyDM,CAxDJ,eAGM,MAHN,EAGM,CAFJ,eAAqE,UAA7DJ,MAAM,eAAgB,QAAK,+BAAE,EAAAK,UAAS,UAAS,WAGzD,eAmDQ,QAnDR,EAmDQ,CAlDN,EAUA,eAuCQ,e,mBAtCN,eAqCK,2BArCgB,EAAAC,UAAQ,SAAjBC,G,wBAAZ,eAqCK,MArC2BC,IAAKD,EAAKR,I,CACxC,eAA4B,yBAArBQ,EAAKE,UAAQ,GACpB,eAAyB,yBAAlBF,EAAKG,OAAK,GACjB,eAEK,yBADA,EAAAC,SAASC,SAASL,EAAKM,eAAY,GAExC,eAEK,yBADA,EAAAF,SAASC,SAASL,EAAKO,QAAK,GAEjC,eAiBK,WAhBH,eAaM,MAbN,EAaM,C,eAZJ,eAO0B,SANxBd,MAAM,mBACNe,KAAK,WACJhB,GAAE,oBAAeQ,EAAKR,IACtBiB,aAAY,EACZC,cAAa,E,yCACLV,EAAKW,WAAU,GACvB,SAAM,mBAAE,EAAAC,OAAOZ,K,0DADPA,EAAKW,cAEhB,eAGQ,SAHDlB,MAAM,mBAAoBoB,IAAG,oBAAeb,EAAKR,K,CAC3B,IAAfQ,EAAKW,Y,iBAAjB,eAA4C,SAAT,Q,iBACnC,eAAuB,SAAV,S,eAMnB,eASK,WARH,eAOM,MAPN,EAOM,CANJ,eAES,UAFDH,KAAK,SAASf,MAAM,8BACnB,QAAK,mBAAE,EAAAK,UAAS,OAASE,KAAO,MACzC,eACA,eAES,UAFDQ,KAAK,SAASf,MAAM,gCACnB,QAAK,mBAAE,EAAAK,UAAS,SAAWE,KAAO,MAC3C,wB,YAOZ,eAC4B,GADhBc,QAAS,EAAAC,YAAcC,MAAO,EAAAA,MAAQ,gBAAgB,EAAAC,cACvDC,IAAI,a,8CACf,eAAqE,GAA1DlB,KAAM,EAAAe,YAAc,UAAU,EAAAI,WAAYD,IAAI,Y,6BACzD,eAA2D,GAA9CE,MAAO,EAAAC,WAAa,YAAY,EAAAC,a,8GC9D/C7B,MAAM,aACND,GAAG,YACH+B,SAAS,KACTC,KAAK,SACLC,kBAAgB,oBAChBC,cAAY,OACZR,IAAI,U,GACCzB,MAAM,yB,GACJA,MAAM,0B,GACJA,MAAM,+C,GACLD,GAAG,iBAAiBC,MAAM,qB,sBAI9B,eAA4F,UAApFe,KAAK,SAASf,MAAM,YAAYkC,kBAAgB,QAAQC,aAAW,S,YAExEnC,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,Y,GAEJA,MAAM,c,EACT,eAAkC,SAA3BoB,IAAI,YAAW,QAAI,G,EAK5B,eAA4B,OAAvBpB,MAAM,QAAO,QAAI,G,aAGbA,MAAM,c,EACT,eAAkC,SAA3BoB,IAAI,YAAW,QAAI,G,iCAiB7BpB,MAAM,Y,GACJA,MAAM,c,EACT,eAA6B,SAAtBoB,IAAI,SAAQ,MAAE,G,GAIlBpB,MAAM,O,GACJA,MAAM,uB,EACT,eAAgC,SAAzBoB,IAAI,YAAW,MAAE,G,GAGrBpB,MAAM,uB,EACT,eAA6B,SAAtBoB,IAAI,SAAQ,MAAE,G,GAKpBpB,MAAM,O,GACJA,MAAM,uB,EACT,eAAoC,SAA7BoB,IAAI,gBAAe,MAAE,G,GAGzBpB,MAAM,uB,EACT,eAA6B,SAAtBoB,IAAI,SAAQ,MAAE,G,EAIzB,eAAI,mB,GAECpB,MAAM,c,EACT,eAAqC,SAA9BoB,IAAI,eAAc,QAAI,G,GAI1BpB,MAAM,c,GACT,eAAiC,SAA1BoB,IAAI,WAAU,QAAI,G,IAItBpB,MAAM,c,IACJA,MAAM,c,GAET,eAA6D,SAAtDA,MAAM,mBAAmBoB,IAAI,cAAa,QAAI,G,IAM1DpB,MAAM,gB,GACT,eAA2F,UAAnFe,KAAK,SAASf,MAAM,4BAA4BkC,kBAAgB,SAAQ,MAAE,G,iDAjG1F,eAuGM,MAvGN,EAuGM,CA/FJ,eA8FM,MA9FN,EA8FM,CA7FJ,eA4FM,MA5FN,EA4FM,CA3FJ,eAMM,MANN,EAMM,CALJ,eAGK,KAHL,EAGK,CAFS,EAAAX,O,iBAAZ,eAA8B,SAAX,U,iBACnB,eAAwB,SAAX,WAEf,IAEF,eA8EM,MA9EN,EA8EM,CA7EJ,eA4EM,MA5EN,EA4EM,CA3EJ,eA4BM,MA5BN,EA4BM,CA1BJ,eAIM,MAJN,EAIM,CAHJ,E,eACA,eAA6F,S,qDAA7E,EAAAD,YAAYc,SAAQ,IAAErB,KAAK,OAAOf,MAAM,eAAeqC,YAAY,W,mBAAnE,EAAAf,YAAYc,YAC5B,eAAmD,OAA9CpC,MAAM,YAAasC,IAAK,EAAAhB,YAAYc,U,kBAG3C,EACWG,MAAMC,QAAQ,EAAAlB,YAAYmB,Y,iBAArC,eAeM,U,mBAdJ,eAOM,2BAPmC,EAAAnB,YAAYmB,WAAS,SAApCC,EAAOlC,G,wBAAjC,eAOM,OAPDR,MAAM,OAAsDQ,IAAKA,G,CACpE,eAIM,MAJN,EAIM,CAHJ,E,eACA,eACwB,S,yCADR,EAAAc,YAAYmB,UAAUjC,GAAG,GAAGO,KAAK,OAAOf,MAAM,eAC5DqC,YAAY,W,yCADE,EAAAf,YAAYmB,UAAUjC,QAGxC,eAAoC,OAA/BR,MAAM,YAAasC,IAAKI,G,4BAEnB,EAAApB,YAAYmB,UAAUE,QAAU,EAAArB,YAAYmB,UAAU,EAAAnB,YAAYmB,UAAUE,OAAM,I,iBAA9F,eAEM,SADJ,eAAkH,UAA1G3C,MAAM,+CAAgD,QAAK,+BAAE,EAAAsB,YAAYmB,UAAUG,KAAI,OAAM,Y,iBAEvG,eAEM,SADJ,eAA8G,UAAtG5C,MAAM,8CAA+C,QAAK,+BAAE,EAAAsB,YAAYmB,UAAUI,SAAO,e,iBAGrG,eAEM,SADJ,eAAgG,UAAxF7C,MAAM,+CAAgD,QAAK,8BAAE,EAAA8C,cAAA,EAAAA,aAAA,sBAAc,aAGvF,eA6CM,MA7CN,EA6CM,CA5CJ,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAAmG,SAA5F/C,GAAG,Q,qDAAiB,EAAAuB,YAAYZ,MAAK,IAAEK,KAAK,OAAOf,MAAM,eAAeqC,YAAY,S,mBAAhE,EAAAf,YAAYZ,WAGzC,eASM,MATN,EASM,CARJ,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAAyG,SAAlGX,GAAG,W,qDAAoB,EAAAuB,YAAYb,SAAQ,IAAEM,KAAK,OAAOf,MAAM,eAAeqC,YAAY,S,mBAAnE,EAAAf,YAAYb,cAE5C,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAAiG,SAA1FV,GAAG,O,qDAAgB,EAAAuB,YAAYyB,KAAI,IAAEhC,KAAK,OAAOf,MAAM,eAAeqC,YAAY,S,mBAA/D,EAAAf,YAAYyB,YAI1C,eASM,MATN,EASM,CARJ,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAAkI,SAA3HhD,GAAG,e,qDAA+B,EAAAuB,YAAYT,aAAY,IAAEE,KAAK,SAASiC,IAAI,IAAIhD,MAAM,eAAeqC,YAAY,S,mBAAjF,EAAAf,YAAYT,kB,WAA5B,QAE3B,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAAoH,SAA7Gd,GAAG,Q,qDAAwB,EAAAuB,YAAYR,MAAK,IAAEC,KAAK,SAASiC,IAAI,IAAIhD,MAAM,eAAeqC,YAAY,S,mBAA1E,EAAAf,YAAYR,W,WAA5B,UAGtB,EAEA,eAIM,MAJN,EAIM,CAHJ,E,eACA,eACS,YADCf,GAAG,c,uDAAuB,EAAAuB,YAAY2B,YAAW,IAAElC,KAAK,OAAOf,MAAM,eAAeqC,YAAY,WAAU,mBACtH,M,QADsC,EAAAf,YAAY2B,iBAGlD,eAIM,MAJN,EAIM,CAHJ,G,eACA,eACS,YADClD,GAAG,c,uDAAuB,EAAAuB,YAAY4B,QAAO,IAAEnC,KAAK,OAAOf,MAAM,eAAeqC,YAAY,WAAU,mBAClH,M,QADsC,EAAAf,YAAY4B,aAGlD,eAKM,MALN,GAKM,CAJJ,eAGM,MAHN,GAGM,C,eAFJ,eAAkI,SAA3HnD,GAAG,a,uDAAsB,EAAAuB,YAAYJ,WAAU,IAAElB,MAAM,mBAAmBe,KAAK,WAAYC,aAAY,EAAIC,cAAa,G,mBAA/F,EAAAK,YAAYJ,cAC5C,aAMV,eAIM,MAJN,GAIM,CAHJ,GAEA,eAAuG,UAA/FH,KAAK,SAASf,MAAM,kBAAmB,QAAK,iCAAE,EAAAmD,MAAK,iBAAmB,EAAA7B,gBAAc,a,sBAWvF,IACb8B,MAAO,CACL/B,QAAS,CACPN,KAAMsC,OACNC,QAFO,WAGL,MAAO,CACLb,UAAW,MAIjBlB,MAAO,CACLR,KAAMwC,QACND,SAAS,IAGbE,KAfa,WAgBX,MAAO,CACLlC,YAAa,GACbmC,MAAO,KAGXC,MAAO,CAAC,kBACRC,OAAQ,CAACC,GAAA,MACTC,OAAQ,CAAC,WACTC,MAAO,CACLzC,QADK,WAEH0C,KAAKzC,YAAcyC,KAAK1C,QACnB0C,KAAKzC,YAAYmB,YACpBsB,KAAKzC,YAAYmB,UAAY,IAE1BsB,KAAKzC,YAAYc,WACpB2B,KAAKzC,YAAYc,SAAW,MAIlC4B,QAnCa,aA0CbC,QAAS,CAsBPnB,aAtBO,WAuBLiB,KAAKzC,YAAYmB,UAAY,GAC7BsB,KAAKzC,YAAYmB,UAAUG,KAAK,OC9KtC,GAAOsB,OAAS,GAED,UFqEA,IACbV,KADa,WAEX,MAAO,CACLlD,SAAU,GACVgB,YAAa,GACbC,OAAO,EACPpB,WAAW,EACXyB,WAAY,GAKZuC,YAAa,IAGjBC,WAAY,CAAEC,aAAWC,WAAA,KAAUC,aAAA,MAEnCC,QAjBa,WAkBXT,KAAKlC,eAEPoC,QAAS,CACPpC,YADO,WACe,WAAV4C,EAAU,uDAAH,EACjBV,KAAKI,YAAcM,EACnB,IAAMC,EAAE,UAAO,wCAAP,eAAqC,SAArC,gCAAqFD,GAC7FE,QAAQC,IAAIF,GACZX,KAAK5D,WAAY,EACjB4D,KAAKc,MAAMC,IAAIJ,GACZK,MAAK,SAACC,GACL,GAAIA,EAAIxB,KAAKyB,QAAS,CAEpB,MAAiCD,EAAIxB,KAA7BlD,EAAR,EAAQA,SAAUsB,EAAlB,EAAkBA,WAClB,EAAKtB,SAAWA,EAChB,EAAKsB,WAAaA,EAClB,EAAKzB,WAAY,OAEjB+E,MAAMF,EAAIxB,KAAK2B,SACf,EAAKC,kBAAkBJ,EAAvB,WAAiC,EAAKb,YAAtC,QACA,EAAKhE,WAAY,KAElBkF,OAAM,SAACC,GACRX,QAAQC,IAAIU,GACZ,EAAKnF,WAAY,MAGvBE,UAxBO,SAwBGkF,EAAShF,GAED,QAAZgF,GACFxB,KAAKzC,YAAc,CACjBmB,UAAW,IAEbsB,KAAKxC,OAAQ,EACbwC,KAAKyB,MAAMC,UAAUC,aACA,SAAZH,GACTxB,KAAKzC,YAAL,kBAAwBf,GACxBwD,KAAKxC,OAAQ,EACbwC,KAAKyB,MAAMC,UAAUC,aACA,WAAZH,IACTxB,KAAKzC,YAAL,kBAAwBf,GACxBwD,KAAKyB,MAAMG,SAASD,cAGxBvE,OAzCO,SAyCAZ,GACLwD,KAAKzC,YAAL,kBAAwBf,GACxBwD,KAAKvC,cAAcuC,KAAKzC,cAE1BE,cA7CO,WA6CS,WACduC,KAAK5D,WAAY,EACjB,IAAIuE,EAAE,UAAO,wCAAP,eAAqC,SAArC,kBACFkB,EAAa,OACbC,EAAQ,OAEP9B,KAAKxC,QACRmD,EAAE,UAAO,wCAAP,eAAqC,SAArC,0BAA+EX,KAAKzC,YAAYvB,IAClG6F,EAAa,MACbC,EAAQ,QAEV9B,KAAKc,MAAMe,GAAYlB,EAAK,CAAElB,KAAMO,KAAKzC,cACtCyD,MAAK,SAACC,GACFA,EAAIxB,KAAKyB,SAEV,EAAKG,kBAAkBJ,EAAKa,GAC5B,EAAKL,MAAMC,UAAUK,YACrB,EAAKjE,YAAY,EAAKsC,aACtB,EAAKhE,WAAY,IAGjB,EAAKiF,kBAAkBJ,EAAKa,GAC5B,EAAK1F,WAAY,MAElBkF,OAAM,SAACC,GACRX,QAAQC,IAAIU,OAGlB5D,WAzEO,WAyEM,WACXqC,KAAK5D,WAAY,EACjB,IAAMuE,EAAE,UAAO,wCAAP,eAAqC,SAArC,0BAA+EX,KAAKzC,YAAYvB,IACxGgE,KAAKc,MAAMkB,OAAOrB,GACfK,MAAK,SAACC,GACDA,EAAIxB,KAAKyB,SACX,EAAKG,kBAAkBJ,EAAK,QAC5B,EAAKQ,MAAMG,SAASG,YACpB,EAAKjE,YAAY,EAAKsC,aACtB,EAAKhE,WAAY,IAGjB,EAAKiF,kBAAkBJ,GACvB,EAAK7E,WAAY,MAElBkF,OAAM,SAACC,GACRX,QAAQC,IAAIU,GACZ,EAAKnF,WAAY,QGrL3B,GAAO+D,OAASA,EAED,iB,kCCFf,IAAI8B,EAAI,EAAQ,QACZC,EAAc,EAAQ,QACtBC,EAAS,EAAQ,QACjBC,EAAM,EAAQ,QACdC,EAAW,EAAQ,QACnBC,EAAiB,EAAQ,QAAuCC,EAChEC,EAA4B,EAAQ,QAEpCC,EAAeN,EAAOO,OAE1B,GAAIR,GAAsC,mBAAhBO,MAAiC,gBAAiBA,EAAaE,iBAExDC,IAA/BH,IAAevD,aACd,CACD,IAAI2D,EAA8B,GAE9BC,EAAgB,WAClB,IAAI5D,EAAc6D,UAAUnE,OAAS,QAAsBgE,IAAjBG,UAAU,QAAmBH,EAAYI,OAAOD,UAAU,IAChGE,EAASjD,gBAAgB8C,EACzB,IAAIL,EAAavD,QAED0D,IAAhB1D,EAA4BuD,IAAiBA,EAAavD,GAE9D,MADoB,KAAhBA,IAAoB2D,EAA4BI,IAAU,GACvDA,GAETT,EAA0BM,EAAeL,GACzC,IAAIS,EAAkBJ,EAAcH,UAAYF,EAAaE,UAC7DO,EAAgBC,YAAcL,EAE9B,IAAIM,EAAiBF,EAAgBG,SACjCC,EAAyC,gBAAhCN,OAAOP,EAAa,SAC7Bc,EAAS,wBACbjB,EAAeY,EAAiB,cAAe,CAC7CM,cAAc,EACdzC,IAAK,WACH,IAAI0C,EAASpB,EAASrC,MAAQA,KAAK0D,UAAY1D,KAC3C2D,EAASP,EAAeQ,KAAKH,GACjC,GAAIrB,EAAIS,EAA6BY,GAAS,MAAO,GACrD,IAAII,EAAOP,EAASK,EAAOG,MAAM,GAAI,GAAKH,EAAOI,QAAQR,EAAQ,MACjE,MAAgB,KAATM,OAAcjB,EAAYiB,KAIrC5B,EAAE,CAAEE,QAAQ,EAAM6B,QAAQ,GAAQ,CAChCtB,OAAQI","file":"js/chunk-50215691.1b57b923.js","sourcesContent":["<template>\n    <div id=\"app\">\n      <Loading :active=\"isLoading\" :z-index=\"8888\"></Loading>\n      <div class=\"container\">\n        <div class=\"text-end mt-4\">\n          <button class=\"btn btn-dark\" @click=\"openModal('new')\">建立新產品</button>\n          <!-- <button class=\"btn btn-danger\" @click=\"openModal('logout')\">登出</button> -->\n        </div>\n        <table class=\"table mt-4\">\n          <thead>\n            <tr>\n              <th width=\"120\">分類</th>\n              <th width=\"240\">產品名稱</th>\n              <th width=\"120\">原價</th>\n              <th width=\"120\">售價</th>\n              <th width=\"100\">是否啟用</th>\n              <th width=\"120\">編輯</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item) in products\" :key=\"item.id\">\n              <td>{{ item.category }}</td>\n              <td>{{ item.title }}</td>\n              <td>\n                {{ $filters.currency(item.origin_price) }}\n              </td>\n              <td>\n                {{ $filters.currency(item.price) }}\n              </td>\n              <td>\n                <div class=\"form-check form-switch\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    :id=\"`prodSwitch${item.id}`\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    v-model=\"item.is_enabled\"\n                    @change=\"update(item)\"/>\n                  <label class=\"form-check-label\" :for=\"`prodSwitch${item.id}`\">\n                    <span v-if=\"item.is_enabled === 1\">啟用</span>\n                    <span v-else>未啟用</span>\n                  </label>\n                </div>\n                <!-- <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n                <span v-else>未啟用</span> -->\n              </td>\n              <td>\n                <div class=\"btn-group\">\n                  <button type=\"button\" class=\"btn btn-outline-dark btn-sm\"\n                          @click=\"openModal('edit', item)\">編輯\n                  </button>\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\n                          @click=\"openModal('delete', item)\">刪除\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <ProdModal :product=\"tempProduct\" :isNew=\"isNew\" @update-product=\"updateProduct\"\n                 ref=\"prodModal\"/>\n      <DelModal :item=\"tempProduct\" @del-item=\"delProduct\" ref=\"delModal\"/>\n      <pagination :pages=\"pagination\" @emit-pages=\"getProducts\"/>\n      <!-- Modal -->\n  </div>\n</template>\n\n<script>\nimport DelModal from '@/components/DelModal.vue';\nimport Pagination from '@/components/Pagination.vue';\nimport ProdModal from '@/components/ProdModal.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      tempProduct: {},\n      isNew: false,  // 新增/編輯\n      isLoading: false,\n      pagination: {},\n      // modal: {\n      //   editModal: '',\n      //   delModal: '',\n      // },\n      currentPage: 1,\n    }\n  },\n  components: { ProdModal, DelModal, Pagination },\n  // inject: ['emitter'],\n  created() {\n    this.getProducts();\n  },\n  methods: {\n    getProducts(page = 1) {\n      this.currentPage = page;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      console.log(url);\n      this.isLoading = true;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            // this.$httpMessageState(res, `第${ this.currentPage }頁載入`);\n            const { products, pagination } = res.data;\n            this.products = products;\n            this.pagination = pagination;\n            this.isLoading = false;\n          } else {\n            alert(res.data.message);\n            this.$httpMessageState(res, `第${ this.currentPage }頁載入`);\n            this.isLoading = false;\n          }\n        }).catch((err) => {\n          console.log(err);\n          this.isLoading = false;\n        });\n    },\n    openModal(editMod, item) {\n      // editMod: new / edit / delete\n      if (editMod === 'new') {\n        this.tempProduct = {\n          imagesUrl: [],\n        };\n        this.isNew = true;\n        this.$refs.prodModal.showModal();\n      } else if (editMod === 'edit') {\n        this.tempProduct = { ...item };\n        this.isNew = false;\n        this.$refs.prodModal.showModal();\n      } else if (editMod === 'delete') {\n        this.tempProduct = { ...item };\n        this.$refs.delModal.showModal();\n      }\n    },\n    update(item) {\n      this.tempProduct = { ...item };\n      this.updateProduct(this.tempProduct);\n    },\n    updateProduct() {\n      this.isLoading = true;\n      let url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;  // new\n      let httpMethod = 'post';\n      let state = '新增產品';\n\n      if (!this.isNew) {  // update\n        url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n        httpMethod = 'put';\n        state = '更新產品';\n      }\n      this.$http[httpMethod](url, { data: this.tempProduct })\n        .then((res) => {\n          if(res.data.success) {\n            // alert(res.data.message);\n            this.$httpMessageState(res, state);\n            this.$refs.prodModal.hideModal();\n            this.getProducts(this.currentPage);\n            this.isLoading = false;\n          } else {\n            // alert(res.data.message);\n            this.$httpMessageState(res, state);\n            this.isLoading = false;\n          }\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    delProduct() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n      this.$http.delete(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.$httpMessageState(res, '刪除產品');\n            this.$refs.delModal.hideModal();\n            this.getProducts(this.currentPage);\n            this.isLoading = false;\n          } else {\n            // alert(res.data.message);\n            this.$httpMessageState(res);\n            this.isLoading = false;\n          }\n        }).catch((err) => {\n          console.log(err);\n          this.isLoading = false;\n        });\n    },\n  },\n}\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"prodModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content border-1\">\n        <div class=\"modal-header bg-dark text-white text-center\">\n          <h5 id=\"prodModalLabel\" class=\"modal-title w-100\">\n            <span v-if=\"isNew\">新增產品</span>\n            <span v-else>編輯產品</span>\n          </h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n\n              <div class=\"form-group\">\n                <label for=\"imageUrl\">主要圖片</label>\n                <input v-model=\"tempProduct.imageUrl\" type=\"text\" class=\"form-control\" placeholder=\"請輸入圖片連結\">\n                <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\">\n              </div>\n\n              <div class=\"mb-1\">多圖新增</div>\n              <div v-if=\"Array.isArray(tempProduct.imagesUrl)\">\n                <div class=\"mb-1\" v-for=\"(image, key) in tempProduct.imagesUrl\" :key=\"key\">\n                  <div class=\"form-group\">\n                    <label for=\"imageUrl\">圖片網址</label>\n                    <input v-model=\"tempProduct.imagesUrl[key]\" type=\"text\" class=\"form-control\"\n                      placeholder=\"請輸入圖片連結\">\n                  </div>\n                  <img class=\"img-fluid\" :src=\"image\">\n                </div>\n                <div v-if=\"!tempProduct.imagesUrl.length || tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1]\">\n                  <button class=\"btn btn-outline-primary btn-sm d-block w-100\" @click=\"tempProduct.imagesUrl.push('')\">新增圖片</button>\n                </div>\n                <div v-else>\n                  <button class=\"btn btn-outline-danger btn-sm d-block w-100\" @click=\"tempProduct.imagesUrl.pop()\">刪除圖片</button>\n                </div>\n              </div>\n              <div v-else>\n                <button class=\"btn btn-outline-primary btn-sm d-block w-100\" @click=\"createImages\">新增圖片</button>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"form-group\">\n                <label for=\"title\">標題</label>\n                <input id=\"title\" v-model=\"tempProduct.title\" type=\"text\" class=\"form-control\" placeholder=\"請輸入標題\">\n              </div>\n\n              <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"category\">分類</label>\n                  <input id=\"category\" v-model=\"tempProduct.category\" type=\"text\" class=\"form-control\" placeholder=\"請輸入分類\">\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"price\">單位</label>\n                  <input id=\"unit\" v-model=\"tempProduct.unit\" type=\"text\" class=\"form-control\" placeholder=\"請輸入單位\">\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"origin_price\">原價</label>\n                  <input id=\"origin_price\" v-model.number=\"tempProduct.origin_price\" type=\"number\" min=\"0\" class=\"form-control\" placeholder=\"請輸入原價\">\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"price\">售價</label>\n                  <input id=\"price\" v-model.number=\"tempProduct.price\" type=\"number\" min=\"0\" class=\"form-control\" placeholder=\"請輸入售價\">\n                </div>\n              </div>\n              <hr>\n\n              <div class=\"form-group\">\n                <label for=\"description\">產品描述</label>\n                <textarea id=\"description\" v-model=\"tempProduct.description\" type=\"text\" class=\"form-control\" placeholder=\"請輸入產品描述\">\n              </textarea>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"content\">說明內容</label>\n                <textarea id=\"description\" v-model=\"tempProduct.content\" type=\"text\" class=\"form-control\" placeholder=\"請輸入說明內容\">\n              </textarea>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"form-check\">\n                  <input id=\"is_enabled\" v-model=\"tempProduct.is_enabled\" class=\"form-check-input\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\">\n                  <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消</button>\n          <!-- <button type=\"button\" class=\"btn btn-primary\" @click=\"updateProduct\">確認</button> -->\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product', tempProduct)\">確認</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import Modal from 'bootstrap/js/dist/modal';\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {\n          imagesUrl: [],\n        }\n      }\n    },\n    isNew: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      tempProduct: {} ,\n      modal: '',\n    };\n  },\n  emits: ['update-product'],\n  mixins: [modalMixin],\n  inject: ['emitter'],\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n      if (!this.tempProduct.imagesUrl) {\n        this.tempProduct.imagesUrl = [];\n      }\n      if (!this.tempProduct.imageUrl) {\n        this.tempProduct.imageUrl = '';\n      }\n    },\n  },\n  mounted() {\n    // this.modal = new Modal(this.$refs.modal);\n    // this.modal = new Modal(this.$refs.modal, {\n    //   keyboard: false,\n    //   backdrop: 'static'\n    // });\n  },\n  methods: {\n    // updateProduct() {\n    //   let url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;  // new\n    //   let httpMethod = 'post';\n\n    //   if (!this.isNew) {  // update\n    //     url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n    //     httpMethod = 'put'\n    //   }\n    //   this.$http[httpMethod](url,  { data: this.product })\n    //     .then((res) => {\n    //       if(res.data.success) {\n    //         alert(res.data.message);\n    //         this.hideModal();\n    //         this.$emit('update');\n    //       } else {\n    //         alert(res.data.message);\n    //       }\n    //     }).catch((err) => {\n    //       console.log(err);\n    //     });\n    // },\n    createImages() {\n      this.tempProduct.imagesUrl = [];\n      this.tempProduct.imagesUrl.push('');\n    },\n    // openModal() {\n    //   this.modal.show();\n    // },\n    // hideModal() {\n    //   this.modal.hide();\n    // },\n  },\n}\n</script>\n\n\n","import { render } from \"./ProdModal.vue?vue&type=template&id=5c161408\"\nimport script from \"./ProdModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProdModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=6d3e6fec\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}