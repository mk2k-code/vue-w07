(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45f4f29a"],{"1dde":function(t,e,c){var n=c("d039"),r=c("b622"),i=c("2d00"),l=r("species");t.exports=function(t){return i>=51||!n((function(){var e=[],c=e.constructor={};return c[l]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},5895:function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23"),r={class:"my-5 row justify-content-center"},i=Object(n["i"])("h4",{class:"panel-title clearfix"},[Object(n["i"])("span",null,[Object(n["i"])("b",null,"我的購買清單：")])],-1),l={class:"table align-middle"},a=Object(n["i"])("thead",null,[Object(n["i"])("th",null,"品名"),Object(n["i"])("th",null,"數量"),Object(n["i"])("th",{class:"text-end"},"單價")],-1),o={class:"text-end"},u=Object(n["i"])("td",{colspan:"2",class:"text-end"},"總計",-1),s={class:"text-end"},b=Object(n["i"])("br",null,null,-1),d=Object(n["i"])("br",null,null,-1),O=Object(n["i"])("br",null,null,-1),j=Object(n["i"])("h4",{class:"panel-title clearfix"},[Object(n["i"])("span",null,[Object(n["i"])("b",null,"我的寄送資訊：")])],-1),f={class:"table"},h=Object(n["i"])("th",{width:"100"},"Email",-1),p=Object(n["i"])("th",null,"姓名",-1),g=Object(n["i"])("th",null,"收件人電話",-1),v=Object(n["i"])("th",null,"收件人地址",-1),y=Object(n["i"])("th",null,"付款狀態",-1),m={key:0},x={key:1,class:"text-success"},w={key:0,class:"text-end"},k=Object(n["i"])("button",{class:"btn btn-danger"},"確認付款去",-1);function G(t,e,c,G,L,$){var S=Object(n["D"])("Loading");return Object(n["u"])(),Object(n["e"])(n["a"],null,[Object(n["i"])(S,{active:t.isLoading,"z-index":8888},null,8,["active"]),Object(n["i"])("div",r,[Object(n["i"])("form",{class:"col-md-6",onSubmit:e[1]||(e[1]=Object(n["Q"])((function(){return $.Pay&&$.Pay.apply($,arguments)}),["prevent"]))},[i,Object(n["i"])("table",l,[a,Object(n["i"])("tbody",null,[(Object(n["u"])(!0),Object(n["e"])(n["a"],null,Object(n["B"])(L.order.products,(function(e){return Object(n["u"])(),Object(n["e"])("tr",{key:e.id},[Object(n["i"])("td",null,Object(n["G"])(e.product.title),1),Object(n["i"])("td",null,Object(n["G"])(e.qty)+"/"+Object(n["G"])(e.product.unit),1),Object(n["i"])("td",o,Object(n["G"])(t.$filters.currency(e.final_total)),1)])})),128))]),Object(n["i"])("tfoot",null,[Object(n["i"])("tr",null,[u,Object(n["i"])("td",s,Object(n["G"])(t.$filters.currency(L.order.total)),1)])])]),b,d,O,j,Object(n["i"])("table",f,[Object(n["i"])("tbody",null,[Object(n["i"])("tr",null,[h,Object(n["i"])("td",null,Object(n["G"])(L.order.user.email),1)]),Object(n["i"])("tr",null,[p,Object(n["i"])("td",null,Object(n["G"])(L.order.user.name),1)]),Object(n["i"])("tr",null,[g,Object(n["i"])("td",null,Object(n["G"])(L.order.user.tel),1)]),Object(n["i"])("tr",null,[v,Object(n["i"])("td",null,Object(n["G"])(L.order.user.address),1)]),Object(n["i"])("tr",null,[y,Object(n["i"])("td",null,[L.order.is_paid?(Object(n["u"])(),Object(n["e"])("span",x,"付款完成")):(Object(n["u"])(),Object(n["e"])("span",m,"尚未付款"))])])])]),!1===L.order.is_paid?(Object(n["u"])(),Object(n["e"])("div",w,[k])):Object(n["f"])("",!0)],32)])],64)}c("99af");var L=c("24bd"),$={data:function(){return{order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("mark01","/order/").concat(this.orderId);this.isLoading=!0,this.$http.get(e).then((function(e){t.order=e.data.order,t.isLoading=!1,t.$httpMessageState(e,"取得訂單"),L["a"].emit("update-cart")})).catch((function(e){console.log(e),t.isLoading=!1}))},Pay:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("mark01","/pay/").concat(this.orderId);this.isLoading=!0,this.$http.post(e).then((function(e){e.data.success?(t.$httpMessageState(e,"付款"),t.getOrder()):t.$httpMessageState(e,"付款"),t.isLoading=!1})).catch((function(e){console.log(e),t.isLoading=!1}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}};$.render=G;e["default"]=$},8418:function(t,e,c){"use strict";var n=c("c04e"),r=c("9bf2"),i=c("5c6c");t.exports=function(t,e,c){var l=n(e);l in t?r.f(t,l,i(0,c)):t[l]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),r=c("d039"),i=c("e8b5"),l=c("861d"),a=c("7b0b"),o=c("50c4"),u=c("8418"),s=c("65f0"),b=c("1dde"),d=c("b622"),O=c("2d00"),j=d("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",p=O>=51||!r((function(){var t=[];return t[j]=!1,t.concat()[0]!==t})),g=b("concat"),v=function(t){if(!l(t))return!1;var e=t[j];return void 0!==e?!!e:i(t)},y=!p||!g;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,c,n,r,i,l=a(this),b=s(l,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?l:arguments[e],v(i)){if(r=o(i.length),d+r>f)throw TypeError(h);for(c=0;c<r;c++,d++)c in i&&u(b,d,i[c])}else{if(d>=f)throw TypeError(h);u(b,d++,i)}return b.length=d,b}})},b0c0:function(t,e,c){var n=c("83ab"),r=c("9bf2").f,i=Function.prototype,l=i.toString,a=/^\s*function ([^ (]*)/,o="name";n&&!(o in i)&&r(i,o,{configurable:!0,get:function(){try{return l.call(this).match(a)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-45f4f29a.765f4a7b.js.map